\documentclass[a4paper]{article}

%% Language and font encodings
%\usepackage{fontspec}
%\setmainfont{Times New Roman}\usepackage{CormorantGaramond}
\usepackage[toc,page]{appendix}
\usepackage[T1]{fontenc}
\usepackage[utf8x]{inputenc}
\usepackage[swedish, english]{babel}
\usepackage{float}
\usepackage[colorlinks=true, allcolors=black]{hyperref}
\usepackage[dvipsnames]{xcolor}
\usepackage{tikz}
\usepackage{circuitikz} % for circuit diagrams
\usepackage{caption}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{mathtools}
\urlstyle{tt}
\newcommand{\email}[1]{\href{mailto:#1}{\tt{\nolinkurl{#1}}}}
\newcommand{\orcid}[1]{ORCID: \href{https://orcid.org/#1}{\tt{\nolinkurl{#1}}}}

\usepackage[parfill]{parskip}
\renewcommand*\oldstylenums[1]{\carlitoOsF #1}
% \usepackage{fancyhdr}
%\usepackage{natbib}
\usepackage{authblk}
\setlength{\headheight}{41pt}
\setlength{\textwidth}{440pt}
%\pagestyle{fancy}

%% Sets page size and margins
\usepackage[a4paper,top=3cm,bottom=2cm,left=3cm,right=3cm,marginparwidth=1.75cm]{geometry}

%% Useful packages
\usepackage{graphicx}
\usepackage{booktabs}
%\usepackage{caption}
\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{titlesec}
\setcounter{secnumdepth}{4}

\usepackage[colorinlistoftodos]{todonotes}
\usepackage[yyyymmdd]{datetime}
\renewcommand{\dateseparator}{-}
\rmfamily
% \fancyhead[L]{\rmfamily Bi-MMC battery}

\usepackage{xspace}
\input{definitions}

% \usepackage[utf8]{inputenc}
\usepackage{prettyref}
\newrefformat{fig}{Figure \ref{#1}}
\newrefformat{tab}{Table \ref{#1}}

% package for text width 
\usepackage{layouts}

%% Package to import MATLAB codes
\usepackage{listings}
%\usepackage[usenames,dvipsnames]{color}

% This is the color used for MATLAB comments below
%\definecolor{MyDarkGreen}{rgb}{0.0,0.4,0.0}

% For faster processing, load Matlab syntax for listings
%\lstloadlanguages{Matlab}%
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{mygreen}{RGB}{28,172,0} 
\definecolor{mylilas}{RGB}{170,55,241}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
	
\lstdefinestyle{mystyle}{
	backgroundcolor=\color{backcolour},   
	commentstyle=\color{codegreen},
	keywordstyle=\color{blue},
	numberstyle=\tiny\color{codegray},
	stringstyle=\color{codepurple},
	basicstyle=\ttfamily\scriptsize,
	breakatwhitespace=false,         
	breaklines=true,                 
	captionpos=b,                    
	keepspaces=true,                 
	numbers=left,                    
	numbersep=5pt,                  
	showspaces=false,                
	showstringspaces=false,
	showtabs=false,                  
	tabsize=2,
	aboveskip=\medskipamount
}
\lstset{style=mystyle,language=MATLAB}

%\lstset{ 
%	language=Matlab,                		% choose the language of the code
%	%	basicstyle=10pt,       				% the size of the fonts that are used for the code
%	numbers=left,                  			% where to put the line-numbers
%	numberstyle=\footnotesize,      		% the size of the fonts that are used for the line-numbers
%	stepnumber=1,                   			% the step between two line-numbers. If it's 1 each line will be numbered
%	numbersep=5pt,                  		% how far the line-numbers are from the code
%	%	backgroundcolor=\color{white},  	% choose the background color. You must add \usepackage{color}
%	showspaces=true,               		% show spaces adding particular underscores
%	showstringspaces=true,         		% underline spaces within strings
%	showtabs=true,                 			% show tabs within strings adding particular underscores
%	%	frame=single,	                			% adds a frame around the code
%	%	tabsize=2,                				% sets default tabsize to 2 spaces
%	%	captionpos=b,                   			% sets the caption-position to bottom
%	breaklines=true,                			% sets automatic line breaking
%	breakatwhitespace=false,        		% sets if automatic breaks should only happen at whitespace
%	escapeinside={\%*}{*)}          		% if you want to add a comment within your code
%}

\title{\Large Simulation of a Permanent Magnet Synchronous Machine}
\author{Arvind Balachandran}
\date{\today}

\begin{document}
	
	\maketitle
	\pagenumbering{gobble}
	\newpage
	\pagenumbering{arabic}
	\begin{center}
		\fbox{\begin{minipage}[h!]{\textwidth}
				\centering
				The aim of the project is to simulate an electric machine and show that the numerical solution gives the same solution as the differential equation.
		\end{minipage}}
	\end{center}
	\input{sections/introduction}
	\newpage
	\input{sections/sim.tex}
	% \input{sections/constantstepmethod}
	% \newpage
	% \input{sections/variablestepmethod}
	% \newpage
	% \input{sections/conclusions}
	% \newpage
	
%	Consistency
%	Whether or not the numerical solution gives the
%	same solution as the differential equation
%	Convergence
%	Whether the solution to the difference equations
%	becomes closer and closer to the solution of the
%	de for smaller and smaller step sizes
	
	
	\input{sections/simulation}
\end{document}